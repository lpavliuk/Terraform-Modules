# AWS Security Group Rules Module

This module creates EC2 Security Group Rules.

<!-- Next block is generated by terraform-docs following .terraform-docs.yml config -->
<!-- BEGIN_TF_DOCS -->
## Example

```hcl
# main.tf
module "instance_sg_rules" {
  source = "git::https://github.com/lpavliuk/Terraform-Modules.git//aws_security_group_rules"

  security_group_id = local.instance_sg_id
  inbound_rules     = [
    {
      description = "(MySQL) from Specific IP Address"
      protocol    = "tcp"
      port_range  = 3306
      source_type = "cidr_ipv4"
      source      = "172.31.11.16/32"
    },
    {
      description = "(MSs Ports) from VPC"
      protocol    = "tcp"
      port_range  = "52000-52999"
      source_type = "cidr_ipv4"
      source      = "172.31.0.0/16"
    },
    {
      description = "from EC2 VPN"
      port_range  = "all"
      source_type = "security_group_id"
      source      = local.vpn_instance_sg_id
    },
  ]
}
```

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | < 2.0.0, >= 1.6.6 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | < 7.0, >= 5.22 |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_security_group_id"></a> [security\_group\_id](#input\_security\_group\_id) | Security Group ID | `string` | n/a | yes |
| <a name="input_inbound_rules"></a> [inbound\_rules](#input\_inbound\_rules) | Inbound Rules.<br/><br/>Use `port_range` = `"all"` to define **all traffic** rule.<br/>`port_range` definition examples:<br/>  - `80`<br/>  - `"80"`<br/>  - `"80-443"`<br/>  - `"all"`<br/><br/>Available `source_type` values:<br/>    - `cidr_ipv4`<br/>    - `cidr_ipv6`<br/>    - `security_group_id`<br/>    - `prefix_list_id` | <pre>list(object({<br/>    description = optional(string, "")<br/>    protocol    = optional(string, "tcp")<br/>    port_range  = string<br/>    source_type = string<br/>    source      = string<br/>  }))</pre> | `[]` | no |
| <a name="input_outbound_rules"></a> [outbound\_rules](#input\_outbound\_rules) | Outbound Rules.<br/><br/>Use `port_range` = `"all"` to define **all traffic** rule.<br/>`port_range` definition examples:<br/>  - `80`<br/>  - `"80"`<br/>  - `"80-443"`<br/>  - `"all"`<br/><br/>Available `source_type` values:<br/>    - `cidr_ipv4`<br/>    - `cidr_ipv6`<br/>    - `security_group_id`<br/>    - `prefix_list_id` | <pre>list(object({<br/>    description = optional(string, "")<br/>    protocol    = optional(string, "tcp")<br/>    port_range  = string<br/>    source_type = string<br/>    source      = string<br/>  }))</pre> | `[]` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_security_group_id"></a> [security\_group\_id](#output\_security\_group\_id) | Security Group ID |

## Resources

| Name | Type |
|------|------|
| [aws_vpc_security_group_egress_rule.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/vpc_security_group_egress_rule) | resource |
| [aws_vpc_security_group_ingress_rule.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/vpc_security_group_ingress_rule) | resource |
<!-- END_TF_DOCS -->