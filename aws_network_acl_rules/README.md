# AWS Security Group Rules Module

This module creates VPC Network ACL Rules.

<!-- Next block is generated by terraform-docs following .terraform-docs.yml config -->
<!-- BEGIN_TF_DOCS -->
## Example

```hcl
# main.tf
module "network_acl_rules" {
  source   = "../../../../modules/aws_network_acl_rules"
  for_each = toset(local.subnet_groups_network_acl_ids)

  network_acl_id    = each.value
  start_rule_number = local.acl_rule_number

  inbound_rules = [
    {
      action      = "allow"
      protocol    = "tcp"
      port_range  = "52000-54000"
      source_type = "cidr_ipv4"
      source      = "10.0.0.0/16"
    },
    {
      action      = "allow"
      protocol    = "tcp"
      port_range  = 443
      source_type = "cidr_ipv4"
      source      = "10.0.0.0/16"
    },
    {
      action      = "allow"
      protocol    = "tcp"
      port_range  = 80
      source_type = "cidr_ipv4"
      source      = "10.0.0.0/16"
    }
  ]

  outbound_rules = [
    {
      action      = "allow"
      port_range  = "all"
      source_type = "cidr_ipv4"
      source      = "10.0.0.0/16"
    }
  ]
}
```

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | < 2.0.0, >= 1.6.6 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | < 6.0, >= 5.22 |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_network_acl_id"></a> [network\_acl\_id](#input\_network\_acl\_id) | Network ACL ID | `string` | n/a | yes |
| <a name="input_start_rule_number"></a> [start\_rule\_number](#input\_start\_rule\_number) | Start number of rules | `number` | n/a | yes |
| <a name="input_inbound_rules"></a> [inbound\_rules](#input\_inbound\_rules) | Inbound Rules.<br><br>Use `port_range` = `"all"` to define **all traffic** rule.<br>`port_range` definition examples:<br>  - `80`<br>  - `"80"`<br>  - `"80-443"`<br>  - `"all"`<br><br>Available `source_type` values:<br>    - `cidr_ipv4`<br>    - `cidr_ipv6` | <pre>list(object({<br>    action      = string<br>    protocol    = optional(string, "tcp")<br>    port_range  = string<br>    source_type = string<br>    source      = string<br>  }))</pre> | `[]` | no |
| <a name="input_outbound_rules"></a> [outbound\_rules](#input\_outbound\_rules) | Outbound Rules.<br><br>Use `port_range` = `"all"` to define **all traffic** rule.<br>`port_range` definition examples:<br>  - `80`<br>  - `"80"`<br>  - `"80-443"`<br>  - `"all"`<br><br>Available `source_type` values:<br>    - `cidr_ipv4`<br>    - `cidr_ipv6` | <pre>list(object({<br>    action      = string<br>    protocol    = optional(string, "tcp")<br>    port_range  = string<br>    source_type = string<br>    source      = string<br>  }))</pre> | `[]` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_network_acl_id"></a> [network\_acl\_id](#output\_network\_acl\_id) | Network Group ID |

## Resources

| Name | Type |
|------|------|
| [aws_network_acl_rule.egress](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/network_acl_rule) | resource |
| [aws_network_acl_rule.ingress](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/network_acl_rule) | resource |
<!-- END_TF_DOCS -->